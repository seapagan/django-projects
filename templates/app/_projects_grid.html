{% load app_extras %}

<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
  {% if projects %}
  {% for project in projects %}
  {% include "app/_project_card.html" with project=project %}
  {% endfor %}

  {% if has_more %}
  <div class="col-span-full flex justify-center mt-8" id="load-more-section">
    <button
      hx-get="{% url 'filter_projects' %}?page={{ current_page|add:1 }}{% for tag in selected_tags %}&tags={{ tag }}{% endfor %}"
      hx-target="#load-more-section" hx-swap="outerHTML"
      class="px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors">
      Show More
    </button>
  </div>
  {% endif %}

  {% else %}
  <div class="col-span-full p-8 text-center bg-secondary/50">
    <p class="text-lg text-muted-foreground">
      No projects match your selected filters
    </p>
  </div>
  {% endif %}
</div>
